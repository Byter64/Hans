// Code generated by Icestudio 0.10
// Sat, 18 Mar 2023 19:02:50 GMT

// Testbench template
`include "../Bildpuffer.v"
`default_nettype none
`define DUMPSTR(x) `"x.vcd`"
`timescale 10 ns / 1 ns
`define assert(signal, value) \
        if (signal !== value) begin \
            $display("ASSERTION FAILED in %m: signal != value"); \
            $finish; \
        end

module main_tb
;
 
 // Simulation time: 100ns (10 * 10ns)
 // Parameter f√ºr die Testbench
  // Eingangssignale
  reg clk;
  reg rst;
  reg [7:0] x;
  reg [7:0] y;
  reg [7:0] color;
  reg write;

  reg [9:0] x_data;
  reg [9:0] y_data;

  wire [7:0] pixelData;

 // Module instance
  Bildpuffer bildpuffer (
    .clk(clk),
    .rst(rst),
    .x(x),
    .y(y),
    .color(color),
    .write(write),
    .x_data(x_data),
    .y_data(y_data),
    .pixelData(pixelData)
  );
 initial begin
    clk = 1'b0;
end

always begin
   #100 clk = ~clk; 
end
    initial begin
        $dumpvars(0, main_tb);
        rst = 1;
        x_data = 0;
        y_data = 0;
        x = 0;
        y = 0;
        color = 0;
        #100
        rst = 0;
        #200
        x_data = 10'b0000001100;
        y_data = 10'b0000000110;
        x = 8'b00001100;
        y = 8'b00000110;
        color = 8'b00001111;
        write = 1'b1;
        $display("Start of simulation");
        #200
        if(pixelData != color)
            $display("1 Wert in Pixel Farbe: %d x: %d und y: %d ist ungleich Color:%d",color, x, y, color);
        write = 0;
        #200
                
        x = 8'b01101100;
        y = 8'b01110110;
        x_data = 10'b0001101100;
        y_data = 10'b0001110110;
        color = 8'b00000111;
        #200
        write = 1;
        #200
        if(pixelData != color)
            $display("2 Wert in Pixel Farbe: %d x: %d und y: %d ist ungleich Color:%d",color, x, y, color);
        write = 0;
        #200
                
        x = 8'b00001100;
        y = 8'b00010110;
        x_data = 10'b0000001100;
        y_data = 10'b0000010110;
        color = 8'b00000011;
        #200
        write = 1;
        #200
        if(pixelData != color)
            $display("3 Wert in Pixel Farbe: %d x: %d und y: %d ist ungleich Color:%d",color, x, y, color);
        write = 0;
        x = 8'b11001100;
        y = 8'b01010110;
        x_data = 10'b0011001100;
        y_data = 10'b0001010110;
        color = 8'b00000001;
        #200
        write = 1;
        #200
        if(pixelData != color)
            $display("4 Wert in Pixel Farbe: %d x: %d und y: %d ist ungleich Color:%d",color, x, y, color);
        write = 1'b0;   
        #200
                
        x = 8'b00001100;
        y = 8'b00000110;
        x_data = 10'b0000001100;
        y_data = 10'b0000000110;
        #200
        if(pixelData != 8'b00001111)
            $display("5 Wert in Pixel Farbe: %d x: %d und y: %d ist ungleich Color:%d",color, x, y, color);

        #100
        $display("End of simulation");
        $finish;
    end
 
endmodule
